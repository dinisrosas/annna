{"ast":null,"code":"import React from 'react';\nimport { Router } from 'next/router';\nconst trackingID = 'G-MNCYB63WJR';\nexport const useAnalytics = () => {\n  React.useEffect(() => {\n    const handleRouteChange = url => {\n      if (false) {\n        window.gtag('config', trackingID, {\n          page_location: url,\n          page_title: document.title\n        });\n      }\n    };\n\n    Router.events.on('routeChangeComplete', handleRouteChange);\n    return () => Router.events.off('routeChangeComplete', handleRouteChange);\n  }, []);\n};\nexport const gtagUrl = `https://www.googletagmanager.com/gtag/js?id=${trackingID}`;\nexport function renderSnippet() {\n  if (false) {\n    return `\n    window.dataLayer = window.dataLayer || [];\n    function gtag(){dataLayer.push(arguments);}\n    gtag('js', new Date());\n    gtag('config', '${trackingID}');\n    `;\n  }\n}","map":{"version":3,"sources":["/Users/dinis/Desktop/dev/annna/lib/analytics.ts"],"names":["React","Router","trackingID","useAnalytics","useEffect","handleRouteChange","url","window","gtag","page_location","page_title","document","title","events","on","off","gtagUrl","renderSnippet"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,aAAvB;AAOA,MAAMC,UAAU,GAAG,cAAnB;AAEA,OAAO,MAAMC,YAAY,GAAG,MAAM;AAChCH,EAAAA,KAAK,CAACI,SAAN,CAAgB,MAAM;AACpB,UAAMC,iBAAiB,GAAIC,GAAD,IAAS;AACjC,iBAA2C;AACxCC,QAAAA,MAAD,CAAgCC,IAAhC,CAAqC,QAArC,EAA+CN,UAA/C,EAA2D;AACzDO,UAAAA,aAAa,EAAEH,GAD0C;AAEzDI,UAAAA,UAAU,EAAEC,QAAQ,CAACC;AAFoC,SAA3D;AAID;AACF,KAPD;;AAQAX,IAAAA,MAAM,CAACY,MAAP,CAAcC,EAAd,CAAiB,qBAAjB,EAAwCT,iBAAxC;AACA,WAAO,MAAMJ,MAAM,CAACY,MAAP,CAAcE,GAAd,CAAkB,qBAAlB,EAAyCV,iBAAzC,CAAb;AACD,GAXD,EAWG,EAXH;AAYD,CAbM;AAeP,OAAO,MAAMW,OAAO,GAAI,+CAA8Cd,UAAW,EAA1E;AAEP,OAAO,SAASe,aAAT,GAAyB;AAC9B,aAA2C;AACzC,WAAQ;AACZ;AACA;AACA;AACA,sBAAsBf,UAAW;AACjC,KALI;AAMD;AACF","sourcesContent":["import React from 'react';\nimport { Router } from 'next/router';\n\ntype WindowWithAnalytics = Window &\n  typeof globalThis & {\n    gtag: any;\n  };\n\nconst trackingID = 'G-MNCYB63WJR';\n\nexport const useAnalytics = () => {\n  React.useEffect(() => {\n    const handleRouteChange = (url) => {\n      if (process.env.NODE_ENV === 'production') {\n        (window as WindowWithAnalytics).gtag('config', trackingID, {\n          page_location: url,\n          page_title: document.title,\n        });\n      }\n    };\n    Router.events.on('routeChangeComplete', handleRouteChange);\n    return () => Router.events.off('routeChangeComplete', handleRouteChange);\n  }, []);\n};\n\nexport const gtagUrl = `https://www.googletagmanager.com/gtag/js?id=${trackingID}`;\n\nexport function renderSnippet() {\n  if (process.env.NODE_ENV === 'production') {\n    return `\n    window.dataLayer = window.dataLayer || [];\n    function gtag(){dataLayer.push(arguments);}\n    gtag('js', new Date());\n    gtag('config', '${trackingID}');\n    `;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}